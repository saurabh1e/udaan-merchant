<div>
	<div [container]="'body'" [display]="'static'" [open]="!searchFailed" class="input-group" ngbDropdown>
		<input (ngModelChange)="searchApi($event)" [(ngModel)]="text" [disabled]="disabled" [placeholder]="placeholder"
			   [value]="resultFormatter(model)"
			   class="form-control" fullWidth nbInput shape="rectangle" status="primary" type="text">
		<div (click)="searchFailed=!searchFailed" class="input-group-append"
			 style="position: absolute;right: 0;z-index: 999">
    <span class="input-group-text" style="margin: 1px">
      <nb-icon *ngIf="!searchFailed" icon="chevron-down-outline"></nb-icon>
      <nb-icon *ngIf="searchFailed" icon="chevron-up-outline"></nb-icon>
    </span>
		</div>


		<div aria-labelledby="dropdownForm1" ngbDropdownMenu
			 style="width: 100%;height: 250px;overflow-y: scroll;position: unset">
			<nb-list
			>
				<nb-list-item *ngFor="let result of results">
					<div (click)="emitSelected(result)" class="text-dark" style="cursor: pointer">

						{{ resultFormatter(result) }}


					</div>
				</nb-list-item>

			</nb-list>
		</div>
	</div>

</div>
